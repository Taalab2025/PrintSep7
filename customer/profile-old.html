<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - Egypt Printing Marketplace</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/rtl.css">

    <style>
        /* Profile Specific Styles */
        .profile-container {
            max-width: 1000px;
            margin: 2rem auto;
        }

        .profile-header {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: #ecf0f1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-avatar-upload {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 0.5rem;
            text-align: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .profile-avatar:hover .profile-avatar-upload {
            opacity: 1;
        }

        .profile-info h1 {
            margin-bottom: 0.5rem;
            color: #2C3E50;
        }

        .profile-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid #ecf0f1;
            background: white;
            border-radius: 10px 10px 0 0;
            padding: 1rem 1rem 0;
        }

        .profile-tab {
            padding: 1rem 1.5rem;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #7f8c8d;
            font-weight: 500;
        }

        .profile-tab.active {
            color: #27AE60;
            border-bottom-color: #27AE60;
        }

        .profile-tab:hover {
            color: #27AE60;
        }

        .tab-content {
            background: white;
            border-radius: 0 0 10px 10px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .form-section {
            margin-bottom: 2rem;
        }

        .form-section h3 {
            margin-bottom: 1rem;
            color: #2C3E50;
            font-size: 1.1rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #2C3E50;
            font-weight: 500;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #27AE60;
        }

        .address-card {
            background: #f8f9fa;
            border: 1px solid #ecf0f1;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            position: relative;
        }

        .address-card.default {
            border-color: #27AE60;
            background: #f8fffe;
        }

        .address-actions {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
        }

        .address-badge {
            background: #27AE60;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            position: absolute;
            top: 1rem;
            left: 1rem;
        }

        .password-strength {
            margin-top: 0.5rem;
            height: 4px;
            background: #ecf0f1;
            border-radius: 2px;
            overflow: hidden;
        }

        .password-strength-bar {
            height: 100%;
            transition: width 0.3s ease, background-color 0.3s ease;
        }

        .password-strength-text {
            font-size: 0.85rem;
            margin-top: 0.25rem;
        }

        .notification-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            border-bottom: 1px solid #ecf0f1;
        }

        .notification-item:last-child {
            border-bottom: none;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 25px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 25px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 4px;
            bottom: 3.5px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: #27AE60;
        }

        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        /* RTL Adjustments */
        html[dir="rtl"] .profile-header {
            flex-direction: row-reverse;
        }

        html[dir="rtl"] .address-actions {
            left: 1rem;
            right: auto;
        }

        html[dir="rtl"] .address-badge {
            right: 1rem;
            left: auto;
        }

        html[dir="rtl"] input:checked + .toggle-slider:before {
            transform: translateX(-24px);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="../assets/images/logo.png" alt="PrintHub Egypt">
                </div>

                <nav class="main-nav">
                    <a href="../public/index.html" data-en="Home" data-ar="الرئيسية">Home</a>
                    <a href="../public/services.html" data-en="Services" data-ar="الخدمات">Services</a>
                    <a href="../public/vendors.html" data-en="Vendors" data-ar="الموردون">Vendors</a>
                    <a href="../public/about.html" data-en="About" data-ar="حول">About</a>
                </nav>

                <div class="header-actions">
                    <div class="user-menu">
                        <button class="user-menu-btn">
                            <i class="fas fa-user-circle"></i>
                            <span data-en="My Account" data-ar="حسابي">My Account</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="user-dropdown">
                            <a href="dashboard.html"><i class="fas fa-tachometer-alt"></i> <span data-en="Dashboard" data-ar="لوحة التحكم">Dashboard</span></a>
                            <a href="profile.html" class="active"><i class="fas fa-user"></i> <span data-en="Profile" data-ar="الملف الشخصي">Profile</span></a>
                            <a href="quotes.html"><i class="fas fa-file-invoice"></i> <span data-en="My Quotes" data-ar="عروض الأسعار">My Quotes</span></a>
                            <a href="orders.html"><i class="fas fa-box"></i> <span data-en="Orders" data-ar="الطلبات">Orders</span></a>
                            <hr>
                            <a href="../public/login.html"><i class="fas fa-sign-out-alt"></i> <span data-en="Logout" data-ar="تسجيل الخروج">Logout</span></a>
                        </div>
                    </div>
                    <button class="language-toggle" onclick="toggleLanguage()">
                        <span data-en="العربية" data-ar="English">العربية</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Breadcrumb -->
    <nav class="breadcrumb-container">
        <div class="container">
            <ol class="breadcrumb">
                <li><a href="dashboard.html" data-en="Dashboard" data-ar="لوحة التحكم">Dashboard</a></li>
                <li class="active" data-en="My Profile" data-ar="الملف الشخصي">My Profile</li>
            </ol>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="profile-main">
        <div class="container">
            <div class="profile-container">
                <!-- Profile Header -->
                <div class="profile-header">
                    <div class="profile-avatar">
                        <img src="https://via.placeholder.com/120" alt="Profile Picture">
                        <div class="profile-avatar-upload">
                            <i class="fas fa-camera"></i>
                            <span data-en="Change" data-ar="تغيير">Change</span>
                        </div>
                    </div>
                    <div class="profile-info">
                        <h1>Ahmed Mohamed</h1>
                        <p data-en="Member since December 2023" data-ar="عضو منذ ديسمبر 2023">Member since December 2023</p>
                        <p><i class="fas fa-envelope"></i> ahmed.mohamed@email.com</p>
                        <p><i class="fas fa-phone"></i> +20 100 123 4567</p>
                    </div>
                </div>

                <!-- Profile Tabs -->
                <div class="profile-tabs">
                    <button class="profile-tab active" onclick="showTab('personal')">
                        <i class="fas fa-user"></i>
                        <span data-en="Personal Info" data-ar="المعلومات الشخصية">Personal Info</span>
                    </button>
                    <button class="profile-tab" onclick="showTab('addresses')">
                        <i class="fas fa-map-marker-alt"></i>
                        <span data-en="Addresses" data-ar="العناوين">Addresses</span>
                    </button>
                    <button class="profile-tab" onclick="showTab('security')">
                        <i class="fas fa-lock"></i>
                        <span data-en="Security" data-ar="الأمان">Security</span>
                    </button>
                    <button class="profile-tab" onclick="showTab('notifications')">
                        <i class="fas fa-bell"></i>
                        <span data-en="Notifications" data-ar="الإشعارات">Notifications</span>
                    </button>
                </div>

                <!-- Tab Content -->
                <div class="tab-content">
                    <!-- Personal Info Tab -->
                    <div id="personal-tab" class="tab-panel">
                        <form>
                            <div class="form-section">
                                <h3 data-en="Basic Information" data-ar="المعلومات الأساسية">Basic Information</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label data-en="First Name" data-ar="الاسم الأول">First Name</label>
                                        <input type="text" value="Ahmed">
                                    </div>
                                    <div class="form-group">
                                        <label data-en="Last Name" data-ar="اسم العائلة">Last Name</label>
                                        <input type="text" value="Mohamed">
                                    </div>
                                    <div class="form-group">
                                        <label data-en="Email Address" data-ar="البريد الإلكتروني">Email Address</label>
                                        <input type="email" value="ahmed.mohamed@email.com">
                                    </div>
                                    <div class="form-group">
                                        <label data-en="Phone Number" data-ar="رقم الهاتف">Phone Number</label>
                                        <input type="tel" value="+20 100 123 4567">
                                    </div>
                                </div>
                            </div>

                            <div class="form-section">
                                <h3 data-en="Company Information (Optional)" data-ar="معلومات الشركة (اختياري)">Company Information (Optional)</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label data-en="Company Name" data-ar="اسم الشركة">Company Name</label>
                                        <input type="text" placeholder="Enter company name">
                                    </div>
                                    <div class="form-group">
                                        <label data-en="VAT Number" data-ar="الرقم الضريبي">VAT Number</label>
                                        <input type="text" placeholder="Enter VAT number">
                                    </div>
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">
                                    <span data-en="Save Changes" data-ar="حفظ التغييرات">Save Changes</span>
                                </button>
                                <button type="button" class="btn btn-secondary">
                                    <span data-en="Cancel" data-ar="إلغاء">Cancel</span>
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Addresses Tab -->
                    <div id="addresses-tab" class="tab-panel" style="display: none;">
                        <div class="addresses-list">
                            <div class="address-card default">
                                <span class="address-badge" data-en="Default" data-ar="الافتراضي">Default</span>
                                <div class="address-actions">
                                    <button class="btn-icon"><i class="fas fa-edit"></i></button>
                                    <button class="btn-icon"><i class="fas fa-trash"></i></button>
                                </div>
                                <h4 data-en="Home Address" data-ar="عنوان المنزل">Home Address</h4>
                                <p>Ahmed Mohamed</p>
                                <p>123 Tahrir Street, Apartment 4B</p>
                                <p>Dokki, Giza</p>
                                <p>Egypt, 12311</p>
                                <p>+20 100 123 4567</p>
                            </div>

                            <div class="address-card">
                                <div class="address-actions">
                                    <button class="btn-icon"><i class="fas fa-edit"></i></button>
                                    <button class="btn-icon"><i class="fas fa-trash"></i></button>
                                </div>
                                <h4 data-en="Office Address" data-ar="عنوان المكتب">Office Address</h4>
                                <p>Tech Company</p>
                                <p>456 Smart Village, Building B12</p>
                                <p>6th of October City</p>
                                <p>Egypt, 12577</p>
                                <p>+20 2 3534 5678</p>
                            </div>
                        </div>

                        <button class="btn btn-primary" style="margin-top: 1rem;">
                            <i class="fas fa-plus"></i>
                            <span data-en="Add New Address" data-ar="إضافة عنوان جديد">Add New Address</span>
                        </button>
                    </div>

                    <!-- Security Tab -->
                    <div id="security-tab" class="tab-panel" style="display: none;">
                        <form>
                            <div class="form-section">
                                <h3 data-en="Change Password" data-ar="تغيير كلمة المرور">Change Password</h3>
                                <div class="form-group">
                                    <label data-en="Current Password" data-ar="كلمة المرور الحالية">Current Password</label>
                                    <input type="password" placeholder="Enter current password">
                                </div>
                                <div class="form-group">
                                    <label data-en="New Password" data-ar="كلمة المرور الجديدة">New Password</label>
                                    <input type="password" placeholder="Enter new password" id="new-password">
                                    <div class="password-strength">
                                        <div class="password-strength-bar"></div>
                                    </div>
                                    <div class="password-strength-text"></div>
                                </div>
                                <div class="form-group">
                                    <label data-en="Confirm New Password" data-ar="تأكيد كلمة المرور الجديدة">Confirm New Password</label>
                                    <input type="password" placeholder="Confirm new password">
                                </div>
                            </div>

                            <div class="form-section">
                                <h3 data-en="Two-Factor Authentication" data-ar="المصادقة الثنائية">Two-Factor Authentication</h3>
                                <div class="notification-item">
                                    <div>
                                        <strong data-en="Enable 2FA" data-ar="تفعيل المصادقة الثنائية">Enable 2FA</strong>
                                        <p data-en="Add an extra layer of security to your account" data-ar="أضف طبقة إضافية من الأمان لحسابك">Add an extra layer of security to your account</p>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">
                                    <span data-en="Update Security Settings" data-ar="تحديث إعدادات الأمان">Update Security Settings</span>
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Notifications Tab -->
                    <div id="notifications-tab" class="tab-panel" style="display: none;">
                        <div class="form-section">
                            <h3 data-en="Email Notifications" data-ar="إشعارات البريد الإلكتروني">Email Notifications</h3>

                            <div class="notification-item">
                                <div>
                                    <strong data-en="Quote Updates" data-ar="تحديثات عروض الأسعار">Quote Updates</strong>
                                    <p data-en="Receive emails when vendors respond to your quotes" data-ar="تلقي رسائل عند رد الموردين على عروض الأسعار">Receive emails when vendors respond to your quotes</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="notification-item">
                                <div>
                                    <strong data-en="Order Updates" data-ar="تحديثات الطلبات">Order Updates</strong>
                                    <p data-en="Get notified about order status changes" data-ar="احصل على إشعارات حول تغييرات حالة الطلب">Get notified about order status changes</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="notification-item">
                                <div>
                                    <strong data-en="Promotional Emails" data-ar="رسائل ترويجية">Promotional Emails</strong>
                                    <p data-en="Receive special offers and promotions" data-ar="تلقي العروض الخاصة والترويجات">Receive special offers and promotions</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="notification-item">
                                <div>
                                    <strong data-en="Newsletter" data-ar="النشرة الإخبارية">Newsletter</strong>
                                    <p data-en="Monthly updates about new services and vendors" data-ar="تحديثات شهرية حول الخدمات والموردين الجدد">Monthly updates about new services and vendors</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3 data-en="SMS Notifications" data-ar="إشعارات الرسائل القصيرة">SMS Notifications</h3>

                            <div class="notification-item">
                                <div>
                                    <strong data-en="Order Delivery" data-ar="تسليم الطلبات">Order Delivery</strong>
                                    <p data-en="Get SMS when your order is out for delivery" data-ar="احصل على رسالة عند خروج طلبك للتسليم">Get SMS when your order is out for delivery</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <span data-en="Save Preferences" data-ar="حفظ التفضيلات">Save Preferences</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4 data-en="About PrintHub" data-ar="عن PrintHub">About PrintHub</h4>
                    <p data-en="Your trusted printing marketplace in Egypt" data-ar="سوق الطباعة الموثوق به في مصر">Your trusted printing marketplace in Egypt</p>
                </div>

                <div class="footer-section">
                    <h4 data-en="Quick Links" data-ar="روابط سريعة">Quick Links</h4>
                    <ul>
                        <li><a href="../public/services.html" data-en="Services" data-ar="الخدمات">Services</a></li>
                        <li><a href="../public/vendors.html" data-en="Vendors" data-ar="الموردون">Vendors</a></li>
                        <li><a href="../public/about.html" data-en="About Us" data-ar="من نحن">About Us</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4 data-en="Contact" data-ar="اتصل بنا">Contact</h4>
                    <p><i class="fas fa-envelope"></i> info@printhub.eg</p>
                    <p><i class="fas fa-phone"></i> +20 100 123 4567</p>
                </div>
            </div>

            <div class="footer-bottom">
                <p data-en="© 2024 PrintHub Egypt. All rights reserved." data-ar="© 2024 PrintHub مصر. جميع الحقوق محفوظة.">© 2024 PrintHub Egypt. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/language.js"></script>
    <script>
        // Enhanced Profile Management
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-panel').forEach(tab => {
                tab.style.display = 'none';
            });

            // Remove active class from all tabs
            document.querySelectorAll('.profile-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName + '-tab').style.display = 'block';

            // Add active class to clicked tab
            event.target.closest('.profile-tab').classList.add('active');
            
            showToast(`Switched to ${tabName} settings`, 'info');
        }

        // Save profile changes
        function saveProfile() {
            showToast('Saving profile changes...', 'info');
            
            // Simulate API call
            setTimeout(() => {
                showToast('Profile updated successfully!', 'success');
            }, 1500);
        }

        // Upload profile picture
        function uploadProfilePicture() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    showToast('Uploading profile picture...', 'info');
                    
                    // Simulate upload
                    setTimeout(() => {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            const avatar = document.querySelector('.profile-avatar img');
                            if (avatar) {
                                avatar.src = e.target.result;
                            }
                            showToast('Profile picture updated!', 'success');
                        };
                        reader.readAsDataURL(file);
                    }, 1000);
                }
            };
            input.click();
        }

        // Address management
        function addNewAddress() {
            showToast('Opening new address form...', 'info');
            // Open address form modal
            openAddressModal();
        }

        function editAddress(addressId) {
            showToast(`Editing address ${addressId}`, 'info');
            // Open edit address modal
        }

        function deleteAddress(addressId) {
            if (confirm('Are you sure you want to delete this address?')) {
                showToast('Address deleted successfully', 'success');
                // Remove address from DOM
            }
        }

        function setDefaultAddress(addressId) {
            showToast('Default address updated', 'success');
            // Update UI to show new default
        }

        // Address modal
        function openAddressModal() {
            const modal = document.createElement('div');
            modal.innerHTML = `
                <div class="modal-overlay" onclick="closeAddressModal()">
                    <div class="modal-content" onclick="event.stopPropagation()">
                        <div class="modal-header">
                            <h3>Add New Address</h3>
                            <button onclick="closeAddressModal()">×</button>
                        </div>
                        <div class="modal-body">
                            <form onsubmit="saveAddress(event)">
                                <div class="form-group">
                                    <label>Address Label</label>
                                    <input type="text" required placeholder="Home, Office, etc.">
                                </div>
                                <div class="form-group">
                                    <label>Street Address</label>
                                    <input type="text" required>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>City</label>
                                        <input type="text" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Governorate</label>
                                        <select required>
                                            <option value="">Select Governorate</option>
                                            <option value="Cairo">Cairo</option>
                                            <option value="Giza">Giza</option>
                                            <option value="Alexandria">Alexandria</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <button type="button" onclick="closeAddressModal()" class="btn-outline">Cancel</button>
                                    <button type="submit" class="btn-primary">Save Address</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            `;
            
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.5);
                z-index: 1000;
                display: flex;
                align-items: center;
                justify-content: center;
            `;
            
            document.body.appendChild(modal);
        }

        function closeAddressModal() {
            const modal = document.querySelector('.modal-overlay');
            if (modal) {
                modal.remove();
            }
        }

        function saveAddress(e) {
            e.preventDefault();
            showToast('Address saved successfully!', 'success');
            closeAddressModal();
            // Add address to the list
        }

        // Security functions
        function changePassword() {
            const currentPassword = document.getElementById('current-password').value;
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            if (!currentPassword || !newPassword || !confirmPassword) {
                showToast('Please fill all password fields', 'error');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                showToast('New passwords do not match', 'error');
                return;
            }
            
            showToast('Changing password...', 'info');
            
            setTimeout(() => {
                showToast('Password changed successfully!', 'success');
                // Clear password fields
                document.getElementById('current-password').value = '';
                document.getElementById('new-password').value = '';
                document.getElementById('confirm-password').value = '';
            }, 1500);
        }

        function enableTwoFactor() {
            if (confirm('Enable two-factor authentication for enhanced security?')) {
                showToast('Setting up two-factor authentication...', 'info');
                
                setTimeout(() => {
                    showToast('Two-factor authentication enabled!', 'success');
                }, 2000);
            }
        }

        // Notification preferences
        function updateNotificationPreference(type, enabled) {
            showToast(`${enabled ? 'Enabled' : 'Disabled'} ${type} notifications`, 'info');
            // Save preference to backend
        }

        // Password strength checker
        document.addEventListener('DOMContentLoaded', function() {
            const passwordInput = document.getElementById('new-password');
            if (passwordInput) {
                passwordInput.addEventListener('input', function(e) {
                    const password = e.target.value;
                    const strengthBar = document.querySelector('.password-strength-bar');
                    const strengthText = document.querySelector('.password-strength-text');

                    let strength = 0;
                    if (password.length >= 8) strength++;
                    if (password.match(/[a-z]+/)) strength++;
                    if (password.match(/[A-Z]+/)) strength++;
                    if (password.match(/[0-9]+/)) strength++;
                    if (password.match(/[$@#&!]+/)) strength++;

                    const widths = ['0%', '20%', '40%', '60%', '80%', '100%'];
                    const colors = ['#e74c3c', '#e74c3c', '#f39c12', '#f39c12', '#27AE60', '#27AE60'];
                    const texts = ['', 'Very Weak', 'Weak', 'Fair', 'Good', 'Strong'];

                    if (strengthBar) {
                        strengthBar.style.width = widths[strength];
                        strengthBar.style.backgroundColor = colors[strength];
                    }
                    
                    if (strengthText) {
                        strengthText.textContent = texts[strength];
                        strengthText.style.color = colors[strength];
                    }
                });
            }

            // Add profile picture click handler
            const profileAvatar = document.querySelector('.profile-avatar');
            if (profileAvatar) {
                profileAvatar.addEventListener('click', uploadProfilePicture);
                profileAvatar.style.cursor = 'pointer';
            }
        });

        // Toast notification system
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            const colors = {
                success: '#27ae60',
                error: '#e74c3c', 
                warning: '#f39c12',
                info: '#3498db'
            };
            
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 8px;
                color: white;
                font-weight: 600;
                z-index: 10000;
                background: ${colors[type]};
                transform: translateX(100%);
                transition: transform 0.3s ease;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            `;
            
            toast.innerHTML = `<i class="fas fa-info-circle"></i> ${message}`;
            document.body.appendChild(toast);
            
            setTimeout(() => toast.style.transform = 'translateX(0)', 100);
            setTimeout(() => {
                toast.style.transform = 'translateX(100%)';
                setTimeout(() => document.body.removeChild(toast), 300);
            }, 4000);
        }
    </script>
</body>
</html>
